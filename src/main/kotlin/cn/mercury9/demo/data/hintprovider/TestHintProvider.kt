package cn.mercury9.demo.data.hintprovider

import androidx.compose.ui.text.TextRange
import java.util.*

object TestHintProvider: HintProvider {
    private val list = listOf(
        "abandon",
        "ability",
        "able",
        "abnormal",
        "aboard",
        "about",
        "above",
        "abroad",
        "absence",
        "absent",
        "absolute",
        "absolutely",
        "absorb",
        "abstract",
        "abundant",
        "abuse",
        "academic",
        "academy",
        "accelerate",
        "acceleration",
        "accent",
        "accept",
        "acceptable",
        "acceptance",
        "access",
        "accessory",
        "accident",
        "accidental",
        "accommodate",
        "accommodation",
        "accompany",
        "accomplish",
        "accord",
        "accordance",
        "accordingly",
        "account",
        "accumulate",
        "accuracy",
        "accurate",
        "accuse",
        "affection",
        "afford",
        "afraid",
        "Africa",
        "African",
        "after",
        "afternoon",
        "afterward",
        "again",
        "against",
        "age",
        "agency",
        "agent",
        "aggressive",
        "ago",
        "agony",
        "agree",
        "agreement",
        "agriculture",
        "ahead",
        "aid",
        "aim",
        "air",
        "aircraft",
        "airline",
        "airplane",
        "airport",
        "alarm",
        "alcohol",
        "alike",
        "alive",
        "all",
        "allow",
        "alloy",
        "almost",
        "alone",
        "along",
        "aloud",
        "alphabet",
        "already",
        "also",
        "alter",
        "alternative",
        "although",
        "altitude",
        "altogether",
        "apology",
        "apparatus",
        "apparent",
        "appeal",
        "appear",
        "appearance",
        "appetite",
        "apple",
        "appliance",
        "applicable",
        "application",
        "apply",
        "appoint",
        "appointment",
        "appreciate",
        "approach",
        "appropriate",
        "approval",
        "approve",
        "approximate",
        "approximately",
        "April",
        "Arabian",
        "arbitrary",
        "architecture",
        "area",
        "argue",
        "argument",
        "arise",
        "arithmetic",
        "arm",
        "army",
        "around",
        "arouse",
        "arrange",
        "arrangement",
        "arrest",
        "arrival",
        "arrive",
        "arrow",
        "art",
        "article",
        "artificial",
        "artist",
        "artistic",
        "as",
        "author",
        "authority",
        "auto",
        "automatic",
        "automation",
        "automobile",
        "autumn",
        "auxiliary",
        "available",
        "avenue",
        "average",
        "aviation",
        "avoid",
        "await",
    ) // CET first 146

    override fun getHintFrom(source: String, textRange: TextRange): List<Hint> {
        if (source.isBlank() || !textRange.collapsed) return emptyList()

        val token = source.substring(0, textRange.start).split(Regex("\\s")).last()

        val tokenStartPosition = textRange.start - token.length

        return list.filter {
            it.lowercase(Locale.getDefault())
                .startsWith(token.lowercase(Locale.getDefault()))
        }.map {
            Hint(it, TextRange(tokenStartPosition, textRange.start))
        }
    }
}
